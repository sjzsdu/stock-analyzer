# ================================================
# 股票智能分析系统 - 环境变量配置
# ================================================
#
# 重要说明：
# - Next.js 和 Python 服务都读取这个文件
# - Python 服务会优先加载此文件（相对于 python-service/.env）
# - 请复制此文件为 .env.local 并配置实际值
# ================================================

# ------------------------------------------------------------------
# 1. DeepSeek API Key（必需）- 用于 AI 分析
# ------------------------------------------------------------------
# 申请地址: https://platform.deepseek.com/
DEEPSEEK_API_KEY=sk-your_deepseek_api_key_here

# ------------------------------------------------------------------
# 2. MongoDB 数据库连接
# ------------------------------------------------------------------
# 本地开发
MONGODB_URI=mongodb://localhost:27017/stock_analyzer
# 生产环境（可选）
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/stock_analyzer

# ------------------------------------------------------------------
# 3. Python 服务地址
# ------------------------------------------------------------------
# 本地开发
PYTHON_API_URL=http://localhost:8000
# 生产环境
# PYTHON_API_URL=http://your-python-service.example.com

# ------------------------------------------------------------------
# 4. Next.js 认证配置（必需）
# ------------------------------------------------------------------
# 生成命令: openssl rand -base64 32
NEXTAUTH_SECRET=your_secret_key_here_at_least_32_characters
NEXTAUTH_URL=http://localhost:3000

# ------------------------------------------------------------------
# 5. Google OAuth 登录配置（推荐）
# ------------------------------------------------------------------
# 申请地址: https://console.cloud.google.com/
# 创建 OAuth 2.0 客户端ID，设置授权回调URL为:
# - 开发环境: http://localhost:3000/api/auth/callback/google
# - 生产环境: https://yourdomain.com/api/auth/callback/google
# GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your_google_client_secret

# ------------------------------------------------------------------
# 6. 微信 OAuth 登录配置（国内用户推荐）
# ------------------------------------------------------------------
# 申请地址: https://open.weixin.qq.com/
# 1. 在微信开放平台创建网站应用
# 2. 设置授权回调域名为你的域名
# 3. 授权回调URL: http://localhost:3000/api/auth/callback/wechat
# WECHAT_CLIENT_ID=your_wechat_appid
# WECHAT_CLIENT_SECRET=your_wechat_appsecret

# ------------------------------------------------------------------
# 7. 支付宝 OAuth 登录配置（国内用户推荐）
# ------------------------------------------------------------------
# 申请地址: https://open.alipay.com/
# 1. 在支付宝开放平台创建网页应用
# 2. 配置授权回调地址
# 3. 授权回调URL: http://localhost:3000/api/auth/callback/alipay
# ALIPAY_CLIENT_ID=your_alipay_appid
# ALIPAY_CLIENT_SECRET=your_alipay_appsecret

# ------------------------------------------------------------------
# 8. QQ OAuth 登录配置（可选）
# ------------------------------------------------------------------
# 申请地址: https://connect.qq.com/
# 1. 在QQ互联创建应用
# 2. 配置网站回调域
# 3. 授权回调URL: http://localhost:3000/api/auth/callback/qq
# QQ_CLIENT_ID=your_qq_appid
# QQ_CLIENT_SECRET=your_qq_appsecret

# ------------------------------------------------------------------
# 9. Stripe 支付配置（订阅功能 - 可选）
# ------------------------------------------------------------------
# 申请地址: https://stripe.com/
# 用于订阅收费功能（后续实现）
# STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ------------------------------------------------------------------
# 10. 应用版本（可选）
# ------------------------------------------------------------------
# 用于显示版本号
NEXT_PUBLIC_APP_VERSION=v2.0.0

# ------------------------------------------------------------------
# 11. 邮件服务配置（可选）
# ------------------------------------------------------------------
# 用于发送密码重置、订阅通知等邮件
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_email@example.com
# SMTP_PASSWORD=your_email_password
# EMAIL_FROM=noreply@yourdomain.com

# ------------------------------------------------------------------
# 12. Redis 配置（可选）
# ------------------------------------------------------------------
# 用于缓存和速率限制（后续实现）
# REDIS_URL=redis://localhost:6379
# UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_redis_token

# ================================================
# 开发/生产环境切换
# ================================================
# 开发模式
NODE_ENV=development

# 生产模式
# NODE_ENV=production

# ================================================
# 邮箱注册功能说明
# ================================================
#
# 系统已支持邮箱注册和登录功能！
# 
# 注册: 访问 /auth/signup
# 登录: 访问 /auth/signin
#
# 无需配置任何 OAuth 证书，直接使用邮箱注册即可
# 邮箱登录使用 bcrypt 加密存储密码
#
# ================================================
# 本地开发快速开始（无需OAuth）
# ================================================
#
# 1. 复制配置:
#    cp .env.example .env.local
#
# 2. 配置必需项（只需3个）:
#    - DEEPSEEK_API_KEY（AI分析必需）
#    - MONGODB_URI（数据库必需）
#    - NEXTAUTH_SECRET（认证必需）
#
# 3. 启动服务:
#    - 前端: pnpm dev
#    - 后端: cd python-service && python main.py
#
# 4. 访问注册页面:
#    http://localhost:3000/auth/signup
#
# ================================================
# 开发模式
NODE_ENV=development

# 生产模式
# NODE_ENV=production

# ================================================
# OAuth 配置注意事项
# ================================================
#
# 1. Google OAuth:
#    - 需要 Google Cloud 账号
#    - 创建 OAuth 2.0 凭证
#    - 设置授权回调 URL
#
# 2. 微信 OAuth:
#    - 需要微信开放平台账号（需认证）
#    - 创建网站应用
#    - 注意：微信 OAuth 只能获取 openid，需绑定手机号才能完善用户信息
#
# 3. 支付宝 OAuth:
#    - 需要支付宝开放平台账号
#    - 创建网页应用
#    - 需要RSA2签名验证（生产环境）
#
# 4. QQ OAuth:
#    - 需要 QQ 互联账号
#    - 创建网站应用
#    - 流程相对简单
#
# ================================================
# 本地开发快速开始
# ================================================
#
# 1. 复制配置:
#    cp .env.example .env.local
#
# 2. 配置必需项:
#    - DEEPSEEK_API_KEY（AI分析必需）
#    - MONGODB_URI（数据库必需）
#    - NEXTAUTH_SECRET（认证必需）
#    - NEXTAUTH_URL
#
# 3. 可选配置:
#    - 添加至少一个 OAuth 提供商（推荐 Google）
#
# 4. 启动服务:
#    - 前端: pnpm dev
#    - 后端: cd python-service && python main.py
#
# ================================================
